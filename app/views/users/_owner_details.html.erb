<h1><%= @user.first_name %>'s details</h1>
<div class="col mt-3 mb-3">
  <div class="card">
    <div class="card-body">

      <div class="owner-info">
      <div id="owner-pic-container">
        <%= cl_image_tag @user.photo.key, height: 500, width: 500, gravity: "auto", crop: "fill", alt: "#{@user.first_name}", id: 'vet-pic', class:'avatar'%>
      </div>
      <br>
        <h5 class="card-title"><strong><%= @user.first_name %> <%= @user.last_name %></strong> </h5>
          <div class="owner-info-details">
            <p class="card-text"><span class="detail-key"><strong>Address: </strong></span><%= @user.address %></p>
            <p class="card-text"><span class="detail-key"><strong>Mobile number:</strong></span> <%= @user.mobile_number %> </p>
            <p class="card-text"><span class="detail-key"><strong>Email:</strong></span> <%= @user.email %> </p>

 <hr>
            <p class="card-text">

            <% if @user.dogs.length == 1 %>
              <div>
                <div class="d-flex justify-content-between mb-3">
                  <div>
                    <h5 class="card-text"><span class="owner-pet-title"><strong><%= @user.first_name%>'s pup:</strong></span></h5>
                    <p class="card-text"><span class="detail-key"><strong>Name: </strong></span><%= link_to @user.dogs.first.name, dog_path(@user.dogs) %></p>
                  </div>
                  <div>
                    <%= cl_image_tag @user.dogs.first.photo.key, width: 50, height: 40, gravity: "auto", crop: "fill", class: "avatar", alt: "#{@user.dogs.first.name}" %>
                  </div>
                </div>
              </div>

              <p class="card-text"><span class="detail-key"><strong>Date of Birth:</strong></span><%= @user.dogs.first.date_of_birth %></p>
              <p class="card-text"><span class="detail-key"><strong>Breed:</strong></span><%= @user.dogs.first.breed %></p>
              <p class="card-text"><span class="detail-key"><strong>Weight:</strong></span><%= @user.dogs.first.weight %></p>
              <p class="card-text"><span class="detail-key"><strong>Preexisting condition</strong></span><%= @user.dogs.first.condition %></p>
              <p class="card-text"><span class="detail-key"><strong>Medication:</strong></span><%= @user.dogs.first.medication %></p>
            <% else %>
                    <h5 class="card-text"><span class="owner-pet-title"><strong><%= @user.first_name%>'s pups:</strong></span></h5>
            <%@user.dogs.each do |pet|%><!---->
                <div>
                  <div class="d-flex justify-content-between mb-3">
                    <div>
                      <p class="card-text" ><span class="detail-key"><strong>Name: </strong></span><%= link_to pet.name, dog_path(pet), class:"dog-name-link" %></p>
                      <p class="card-text"><span class="detail-key"><strong>Date of Birth:</strong></span><%= pet.date_of_birth %></p>
                      <p class="card-text"><span class="detail-key"><strong>Breed:</strong></span><%= pet.breed %></p>
                      <p class="card-text"><span class="detail-key"><strong>Weight:</strong></span><%= pet.weight %></p>
                      <p class="card-text"><span class="detail-key"><strong>Preexisting condition</strong></span><%= pet.condition %></p>
                      <p class="card-text"><span class="detail-key"><strong>Medication:</strong></span><%= pet.medication %></p>
                    </div>
                    <div>
                      <%= cl_image_tag pet.photo.key, width: 50, height: 40, gravity: "auto", crop: "fill", class: "avatar", alt: "#{pet.name}" %>
                    </div>
                  </div>
                </div>
              <% end %>
            <% end %>
            </p>

          </div>
      </div>
    </div>

    <div>
    <%= link_to 'Back to all patients', users_path, class:'back-link' %>
    </div>
  </div>
</div>
